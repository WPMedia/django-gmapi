(function(d){function i(a,b){function c(){return a.apply(this,b)}c.prototype=a.prototype;return new c}function g(a,b){b=b||window.google;a=a.split(".");return a.length>1?g(a.slice(1).join("."),b[a[0]]):b[a[0]]}function f(a,b){if(d.isPlainObject(a)||d.isArray(a))if(a.cls){var c=[];if(a.arg)for(var e in a.arg)c.push(f(a.arg[e],b));return i(g(a.cls),c)}else if(a.div)return b.css(a.div)[0];else if(a.val)return g(a.val);else for(c in a)a[c]=f(a[c],b);return a}d.fn.removeMarkers=function(){return this.each(function(){var a=
d(this),b=a.data("markers");for(var c in b)b[c].setMap(null);a.removeData("markers")})};d.fn.addMarkers=function(a){return this.each(function(){if(a){var b=d(this),c=b.data("map"),e=b.data("markers")||[];for(var j in a){var h=f(a[j],b);h.setMap(c);e.push(h)}b.data("markers",e)}return false})};d.fn.fitMarkers=function(){return this.each(function(){var a=d(this),b=a.data("map");a=a.data("markers");if(b&&a){var c=new google.maps.LatLngBounds;for(var e in a)c.extend(a[e].getPosition());b.fitBounds(c)}})};
d.fn.newMap=function(a){return this.each(function(){var b=d(this);b.removeMarkers();var c=f(a,b);b.data("map",c);if(a.mkr){b.addMarkers(a.mkr);c.getCenter()&&c.getZoom()>=0||b.fitMarkers()}return false})}})(jQuery);